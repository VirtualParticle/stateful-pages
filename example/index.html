<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stateful Pages</title>
</head>
<body>

<stateful id="root">

    <button id="button">Click me!</button>
    Presses: <value name="presses"></value>

    <p>Condition: <value name="condition"></value></p>

    <if condition="condition">
        <then>then</then>
        <elif condition="secondCondition">elif</elif>
        <else>else</else>
    </if>

    <br/>
    <br/>

    <label for="when-select">When Value:</label>
    <select id="when-select">
        <option>0</option>
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
    </select>

    <when value="whenValue">
        <case value="!0">
            <p>Zero</p>
        </case>
        <case value="!1">
            <p>One</p>
        </case>
        <case value="!2">
            <p>Two</p>
        </case>
        <case value="!3">
            <p>Three</p>
        </case>
        <else>
            <p>Other</p>
        </else>
    </when>

</stateful>

<script src="../lib/esm/index.js"></script>
<script>

    const stateful = document.getElementById("root");
    const setState = stateful.setState;
    const state = stateful.state;

    setState({
        presses: 0,
        condition: true,
        whenValue: 0,
    });

    document.getElementById("button").onclick = () => {
        setState({
            presses: state.presses + 1
        });
    }

    document.getElementById("when-select").onchange = e => {
        setState({
            whenValue: e.target.value,
        });
    }

</script>
</body>
</html>
